<div class="row page-titles mx-0">
  <div class="col-sm-6 p-md-0">
    <div class="welcome-text">
      <h4>Pagos</h4>
      <p class="mb-1">Pagos Registrados</p>
    </div>
  </div>
  <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
    <!-- <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="javascript:void(0)">Form</a></li>
      <li class="breadcrumb-item active"><a href="javascript:void(0)">Validation</a></li>
    </ol> -->
    <button (click)="toggleTable()" class="btn btn-success btn-sl-sm mr-3" type="button"><span class="mr-2"><i
          class="fa fa-plus"></i></span>
      pagos mensuales</button>
    <button (click)="goToAdd()" class="btn btn-primary btn-sl-sm mr-3" type="button"><span class="mr-2"><i
          class="fa fa-plus"></i></span>
      Nuevo registro</button>
  </div>
</div>

<div *ngIf="!showMonthlyPaymentOverview" class="row">
  <div class="col-lg-3 col-sm-6">
    <div class="card">
      <div class="stat-widget-two card-body">
        <div class="stat-content">
          <div class="stat-text">Pagos completos</div>
          <div class="stat-digit"> <i class="fa fa-money"></i>{{metrics.completed}}</div>
        </div>
        <div class="progress">
          <div class="progress-bar progress-bar-success w-100" role="progressbar" aria-valuenow="100" aria-valuemin="0"
            aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-sm-6">
    <div class="card">
      <div class="stat-widget-two card-body">
        <div class="stat-content">
          <div class="stat-text">Pagos Electronicos</div>
          <div class="stat-digit"> <i class="fa fa-money"></i>{{metrics.electronic}}</div>
        </div>
        <div class="progress">
          <div class="progress-bar progress-bar-primary w-100" role="progressbar" aria-valuenow="100" aria-valuemin="0"
            aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-sm-6">
    <div class="card">
      <div class="stat-widget-two card-body">
        <div class="stat-content">
          <div class="stat-text">Pagos en Efectivo</div>
          <div class="stat-digit"> <i class="fa fa-money"></i> {{metrics.cash}}</div>
        </div>
        <div class="progress">
          <div class="progress-bar progress-bar-warning w-100" role="progressbar" aria-valuenow="100" aria-valuemin="0"
            aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-sm-6">
    <div class="card">
      <div class="stat-widget-two card-body">
        <div class="stat-content">
          <div class="stat-text">Pagos pendientes</div>
          <div class="stat-digit"> <i class="fa fa-money"></i>{{metrics.pending}}</div>
        </div>
        <div class="progress">
          <div class="progress-bar progress-bar-danger w-100" role="progressbar" aria-valuenow="100" aria-valuemin="0"
            aria-valuemax="100"></div>
        </div>
      </div>
    </div>
    <!-- /# card -->
  </div>
  <!-- /# column -->
</div>


<div *ngIf="!showMonthlyPaymentOverview" class="row">

  <div class="col-12">
    <div class="card">
      <!-- <div class="card-header">
        <h4 class="card-title">Lista</h4>
      </div> -->
      <div class="card-body">
        <div style="width: 100%; height: 100%;">

          <app-table-terra [rowData]="Payments" [idTable]="2" (deleteRow)="deletePayment($event)"></app-table-terra>

        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="showMonthlyPaymentOverview" class="row">
  <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Relacion de Pagos Mensuales</h4>
            </div>
            <div class="card-body" style="overflow: scroll;">
              <table class="table table-striped table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th style="text-align: center; white-space: nowrap;">Nombre</th>
                    <th style="text-align: center;">Ene</th>
                    <th style="text-align: center;">Feb</th>
                    <th style="text-align: center;">Mar</th>
                    <th style="text-align: center;">Abr</th>
                    <th style="text-align: center;">May</th>
                    <th style="text-align: center;">Jun</th>
                    <th style="text-align: center;">Jul</th>
                    <th style="text-align: center;">Ago</th>
                    <th style="text-align: center;">Sep</th>
                    <th style="text-align: center;">Oct</th>
                    <th style="text-align: center;">Nov</th>
                    <th style="text-align: center;">Dic</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let student of StudentsMonths" >
                    <td style="white-space: nowrap;">{{student.Name}}</td>
                    <td *ngFor="let m of student.payments"
                      style="text-align: center; white-space: nowrap; {{m.Status==3? 'background-color: #7ED321;': (m.Status==2?'background-color: #d32121;' :'background-color: #f2f2f2;')}}">
                      {{m.Amount}}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
  </div>
</div>


<app-loader [showLoader]="showLoader"></app-loader>
